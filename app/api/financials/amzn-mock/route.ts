// app/api/financials/amzn/route.ts
import { NextResponse } from "next/server";

export const runtime = "nodejs";

export async function GET() {
  return NextResponse.json({
    provider: "alpha_vantage",
    symbol: "AMZN",
    asOf: { latestPeriodEnd: "2024-12-31" },
    latest: {
      fy: 2024,
      end: "2024-12-31",
      revenue: 637959000000,
      ebit: 71020000000,
      da: 52795000000,
      cfo: 115877000000,
      capex: 82999000000,
      fcf: 32878000000,
      cash: 78779000000,
      shortTermInvestments: 22423000000,
      cashPlusInvestments: 101202000000,
      totalDebt: 52774000000,
      netDebt: -48428000000,
      sharesOutstanding: 10721000000,
      opNwc: -89615000000,
      ebitMargin: 0.1113237684553396,
      daPct: 52795000000 / 637959000000,
      capexPct: 82999000000 / 637959000000,
      opNwcPct: -8961500000 / 63795900000,
      effectiveTaxRate: 0.1352298104009458,
      deltaOpNwc: -29214000000,
    },
    annual: [
      {
        fy: 2024,
        end: "2024-12-31",
        revenue: 637959000000,
        ebit: 71020000000,
        da: 52795000000,
        cfo: 115877000000,
        capex: 82999000000,
        fcf: 32878000000,
        cash: 78779000000,
        shortTermInvestments: 22423000000,
        cashPlusInvestments: 101202000000,
        totalDebt: 52774000000,
        netDebt: -48428000000,
        sharesOutstanding: 10100000000,
        opNwc: -89615000000,
        deltaOpNwc: -29214000000,
        ebitMargin: 0.1113237684553396,
        daPct: 52795000000 / 637959000000,
        capexPct: 82999000000 / 637959000000,
        opNwcPct: -89615000000 / 637959000000,
        effectiveTaxRate: 0.1352298104009458,
      },
      {
        fy: 2023,
        end: "2023-12-31",
        revenue: 574785000000,
        ebit: 36852000000,
        da: 48663000000,
        cfo: 84946000000,
        capex: 52729000000,
        fcf: 32217000000,
        cash: 73387000000,
        shortTermInvestments: 13393000000,
        cashPlusInvestments: 86780000000,
        totalDebt: 77259000000,
        netDebt: -9521000000,
        sharesOutstanding: 10492000000,
        opNwc: -60401000000,
        deltaOpNwc: 3373000000,
        ebitMargin: 0.0641144079960333,
        daPct: 48663000000 / 574785000000,
        capexPct: 5272900000 / 574785000000,
        opNwcPct: -60401000000 / 574785000000,
        effectiveTaxRate: 0.18957850733551668,
      },
      {
        fy: 2022,
        end: "2022-12-31",
        revenue: 513983000000,
        ebit: 12248000000,
        da: 41921000000,
        cfo: 46752000000,
        capex: 63645000000,
        fcf: -16893000000,
        cash: 53888000000,
        shortTermInvestments: 16138000000,
        cashPlusInvestments: 70026000000,
        totalDebt: 82004000000,
        netDebt: 11978000000,
        sharesOutstanding: 10189000000,
        opNwc: -63774000000,
        deltaOpNwc: -2962000000,
        ebitMargin: 0.023829581912242232,
        daPct: 41921000000 / 513983000000,
        capexPct: 636450000 / 513983000000,
        opNwcPct: -63774000000 / 513983000000,
        effectiveTaxRate: 0.5,
      },
      {
        fy: 2021,
        end: "2021-12-31",
        revenue: 469822000000,
        ebit: 24879000000,
        da: 34296000000,
        cfo: 46327000000,
        capex: 61053000000,
        fcf: -14726000000,
        cash: 36220000000,
        shortTermInvestments: 59829000000,
        cashPlusInvestments: 96049000000,
        totalDebt: 64667000000,
        netDebt: -31382000000,
        sharesOutstanding: 10296000000,
        opNwc: -60812000000,
        deltaOpNwc: 1121000000,
        ebitMargin: 0.052954097509269465,
        daPct: 34296000000 / 469822000000,
        capexPct: 61053000000 / 469822000000,
        opNwcPct: -60812000000 / 469822000000,
        effectiveTaxRate: 0.12557993237398757,
      },
      {
        fy: 2020,
        end: "2020-12-31",
        revenue: 386064000000,
        ebit: 22899000000,
        da: 25251000000,
        cfo: 66064000000,
        capex: 40140000000,
        fcf: 25924000000,
        cash: 42122000000,
        shortTermInvestments: 42274000000,
        cashPlusInvestments: 84396000000,
        totalDebt: 47931000000,
        netDebt: -36465000000,
        sharesOutstanding: 10198000000,
        opNwc: -61933000000,
        deltaOpNwc: -16741000000,
        ebitMargin: 0.05931399975133657,
        daPct: 25251000000 / 386064000000,
        capexPct: 40140000000 / 386064000000,
        opNwcPct: -61933000000 / 386064000000,
        effectiveTaxRate: 0.1184134337000579,
      },
    ],
  });
}
