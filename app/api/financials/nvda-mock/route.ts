// app/api/financials/nvda-mock/route.ts
import { NextResponse } from "next/server";

export async function GET() {
  return NextResponse.json({
    "provider": "alpha_vantage",
    "symbol": "NVDA",
    "asOf": { "latestPeriodEnd": "2025-01-31" },
    "latest": {
      "fy": 2025,
      "end": "2025-01-31",
      "revenue": 130497000000,
      "ebit": 84273000000,
      "da": 1864000000,
      "cfo": 64089000000,
      "capex": 3236000000,
      "fcf": 60853000000,
      "cash": 8589000000,
      "shortTermInvestments": 34621000000,
      "cashPlusInvestments": 43210000000,
      "totalDebt": 8751000000,
      "netDebt": -34459000000,
      "sharesOutstanding": 24000000000,
      "opNwc": 19157000000,
      "ebitMargin": 0.6457849605738063,
      "daPct": 0.014283853268657517,
      "capexPct": 0.024797504923484832,
      "opNwcPct": 0.14680030958566098,
      "effectiveTaxRate": 0.13264941803727417,
      "deltaOpNwc": 9949000000
    },
    "annual": [
      {
        "fy": 2025,
        "end": "2025-01-31",
        "revenue": 130497000000,
        "ebit": 84273000000,
        "da": 1864000000,
        "cfo": 64089000000,
        "capex": 3236000000,
        "fcf": 60853000000,
        "cash": 8589000000,
        "shortTermInvestments": 34621000000,
        "cashPlusInvestments": 43210000000,
        "totalDebt": 8751000000,
        "netDebt": -34459000000,
        "sharesOutstanding": null,
        "opNwc": 19157000000,
        "ebitMargin": 0.6457849605738063,
        "daPct": 0.014283853268657517,
        "capexPct": 0.024797504923484832,
        "opNwcPct": 0.14680030958566098,
        "effectiveTaxRate": 0.13264941803727417,
        "deltaOpNwc": 9949000000
      },
      {
        "fy": 2024,
        "end": "2024-01-31",
        "revenue": 60922000000,
        "ebit": 34075000000,
        "da": 1508000000,
        "cfo": 28090000000,
        "capex": 1069000000,
        "fcf": 27021000000,
        "cash": 7280000000,
        "shortTermInvestments": 18704000000,
        "cashPlusInvestments": 25984000000,
        "totalDebt": 9937000000,
        "netDebt": -16047000000,
        "sharesOutstanding": null,
        "opNwc": 9208000000,
        "ebitMargin": 0.5593217556876006,
        "daPct": 0.024752962804898065,
        "capexPct": 0.017547027346442992,
        "opNwcPct": 0.15114408588030598,
        "effectiveTaxRate": 0.1199952687917677,
        "deltaOpNwc": 4744000000
      },
      {
        "fy": 2023,
        "end": "2023-01-31",
        "revenue": 26974000000,
        "ebit": 4443000000,
        "da": 1544000000,
        "cfo": 5641000000,
        "capex": 1833000000,
        "fcf": 3808000000,
        "cash": 3389000000,
        "shortTermInvestments": 9907000000,
        "cashPlusInvestments": 13296000000,
        "totalDebt": 10953000000,
        "netDebt": -2343000000,
        "sharesOutstanding": null,
        "opNwc": 4464000000,
        "ebitMargin": 0.16471416919997034,
        "daPct": 0.05724030547935049,
        "capexPct": 0.067954326388374,
        "opNwcPct": 0.16549269667086824,
        "effectiveTaxRate": 0,
        "deltaOpNwc": 1034000000
      },
      {
        "fy": 2022,
        "end": "2022-01-31",
        "revenue": 26914000000,
        "ebit": 10177000000,
        "da": 1174000000,
        "cfo": 9108000000,
        "capex": 976000000,
        "fcf": 8132000000,
        "cash": 1990000000,
        "shortTermInvestments": 19218000000,
        "cashPlusInvestments": 21208000000,
        "totalDebt": 11090000000,
        "netDebt": -10118000000,
        "sharesOutstanding": null,
        "opNwc": 3430000000,
        "ebitMargin": 0.3781303410864234,
        "daPct": 0.04362042059894479,
        "capexPct": 0.036263654603552055,
        "opNwcPct": 0.1274429664858438,
        "effectiveTaxRate": 0.019012171813700834,
        "deltaOpNwc": 1862000000
      },
      {
        "fy": 2021,
        "end": "2021-01-31",
        "revenue": 16675000000,
        "ebit": 4593000000,
        "da": 1098000000,
        "cfo": 5822000000,
        "capex": 1128000000,
        "fcf": 4694000000,
        "cash": 847000000,
        "shortTermInvestments": 10714000000,
        "cashPlusInvestments": 11561000000,
        "totalDebt": 6963000000,
        "netDebt": -4598000000,
        "sharesOutstanding": null,
        "opNwc": 1568000000,
        "ebitMargin": 0.2754422788605697,
        "daPct": 0.06584707646176911,
        "capexPct": 0.06764617691154423,
        "opNwcPct": 0.09403298350824588,
        "effectiveTaxRate": 0.017464277613971423,
        "deltaOpNwc": 468000000
      },
      {
        "fy": 2020,
        "end": "2020-01-31",
        "revenue": 10918000000,
        "ebit": 3022000000,
        "da": 381000000,
        "cfo": 4761000000,
        "capex": 489000000,
        "fcf": 4272000000,
        "cash": 10896000000,
        "shortTermInvestments": 1000000,
        "cashPlusInvestments": 10897000000,
        "totalDebt": 2082000000,
        "netDebt": -8815000000,
        "sharesOutstanding": null,
        "opNwc": 1100000000,
        "ebitMargin": 0.27679062099285584,
        "daPct": 0.03489650119069427,
        "capexPct": 0.04478842278805642,
        "opNwcPct": 0.10075105330646639,
        "effectiveTaxRate": 0.05858585858585859,
        "deltaOpNwc": -797000000
      }
    ],
    "notes": {
      "caching": "Mock data - no API calls made",
      "throttling": "N/A - using cached response",
      "tip": "Switch back to /api/financials/nvda when rate limit resets"
    }
  });
}